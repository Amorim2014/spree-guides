h2. Spree 1.0 Release Notes

endprologue.

h3. Summary

This is the official 1.0 Release of Spree. This is a *major* release for Spree, and so backwards compatibility with extensions and applications is not maintained.

The changes to Spree in the 1.0 Release are outlined in this document.

h3. Namespacing

A difficulty in previous versions of Spree was using it with existing applications, as there may have been conflicting class names between the Spree engines and the host application. For example, if the host application had a +Product+ class, then this would cause Spree's +Product+ class to not load and issues would be encountered.

A major change within the 1.0 Release is the namespacing of all classes within Spree. This change remedies the above problem in the cleanest fashion possible.

Classes such as +Product+, +Variant+ and +ProductsController+ are now +Spree::Product+, +Spree::Variant+ and +Spree::ProductsController+. Other classes, such as +RedirectLegacyProductUrl+, have undergone one more level of namespacing to more clearly represent what areas of Spree they are from. This class is now called +Spree::Core::RedirectLegacyProductUrl+.

Constants such as +SpreeCore+ and +SpreeAuth+ are now +Spree::Core+ and +Spree::Auth+ respectively.

h3. Preferences

We have refactored Spree Preferences to improve performance and simplify
code for applications and extensions. The previous interfaces have been
maintained so no code changes should be required. The underlying classes
have been completely rewritten.

Please see the "Spree blog":http://spreecommerce.com/blog/2011/12/04/spree-preferences-refactor for
notes on this release.

h3. Deprecated functions

h4. Middleware

The lines for middleware in +config/application.rb+ within a host application are now deprecated. When upgrading to Spree 1.0 you must remove these two lines from +config/application.rb+:

<ruby>
config.middleware.use "SeoAssist"
config.middleware.use "RedirectLegacyProductUrl"
</ruby>

These two pieces of middleware are now automatically included by the `Spree::Core::Engine`.


h4. Product

+master_price+, +master_price=+, +variants?+, +variant+ are now officially retired. Please use +Product.price+, +Product.price=+, +Product.has_variants?+ and +Product.master+ respectively instead.

h4. Spree::Config[:stylesheets]

+Spree::Config[:stylesheets]+ and +stylesheet_tags+ are removed in favor for the Rails 3.1 Asset Pipeline. See the "Asset Customization":asset_customization.html for more information.

Extensions looking to add stylesheets to the application should do so through the Asset Pipeline by making the extension an engine.

h3. Testing

h4. The demise of Cucumber testing

Cucumber is a great testing tool however it doesn't bring more values for tesing but overhead. It is decide to opt for a light-weight practice of RSpec + Capybara.
